<html>
<head>
<meta name="viewport" content="width=360">
<script src="meta-viewport-utilities.js"></script>
<script>
function updateDisplay() {
    var square = document.getElementById("square");
    var width = window.innerWidth;
    var scale = getScale();

    logStart(square);
    log(square, "innerWidth: " + width);
    log(square, "scale: " + scale);

    // This test can take several layouts to pass
    logResultAndNotifyDoneOnSuccess(square, width === 360);

    setTimeout(updateDisplay, 500);
}

window.onload = updateDisplay;
</script>
<style>
body { margin: 0px; padding: 0px; }
#square { display: table-cell; vertical-align: middle; text-align: center; background-color: blue; height: 100px; width: 100px; color: white; font-size: x-small;}
</style>
</head>
<body>
<p>This test can be used to verify that we preserve the specified viewport width on rotation.<p>
<p>This test PASSED if the text in the blue square (below) reads &quot;innerWidth: 360&quot; when rotating from portrait- to landscape- orientation, and vice-versa. Otherwise, it FAILED.</p>
<hr/>
<div id="square"></div>
</body>
</html>
