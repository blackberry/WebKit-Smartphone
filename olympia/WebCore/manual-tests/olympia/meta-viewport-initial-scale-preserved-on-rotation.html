<html>
<head>
<meta name="viewport" content="initial-scale=1.0">
<script src="meta-viewport-utilities.js"></script>
<script>
function updateDisplay() {
    var square = document.getElementById("square");
    var scale = getScale();

    logStart(square);
    log(square, "innerWidth: " + window.innerWidth);
    log(square, "scale: " + scale);
    logResultAndNotifyDone(square, scale === 1.0);
}

window.onload = updateDisplay;
window.onorientationchange = updateDisplay;
</script>
<style>
#square { display: table-cell; vertical-align: middle; text-align: center; background-color: blue; height: 100px; width: 100px; color: white; font-size: x-small;}
</style>
</head>
<body>
<p>This test can be used to verify that we preserve the specified viewport initial-scale on rotation. This differs from Mobile Safari, which will instead preserve innerWidth on rotation, if possible.</p>
<p>This test PASSED if, when rotating the device, the text below always reads</p>
<li>RIM device: &quot;scale: 1&quot;</li>
<li>Mobile Safari: &quot;innerWidth: 320&quot;</li>
<p>Otherwise, it FAILED.</p>
<hr/>
<div id="square"></div>
</body>
</html>
